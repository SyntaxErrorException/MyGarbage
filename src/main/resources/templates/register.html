<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Register</title>
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
	<div class="container">
		<h1>Register</h1>
		<th:block th:if="${duplicatedId}">
			<p class="alert alert-danger" th:text="${duplicatedId}"></p>
		</th:block>
		<form id="form" th:action="@{/register}" method="post"
			th:object="${user}">
			<p th:errors="*{loginId}" class="alert alert-danger"></p>
			<p>
				ID：<span id="id-info" class="info">アルファベット、数字、アンダーバーが使えます。4～24文字です。</span>
				<input id="id" type="text" th:field="*{loginId}" class="form-control"
					value="" placeholder="ID" autofocus/>
			</p>
			<p th:errors="*{loginPass}" class="alert alert-danger"></p>
			<p>
				パスワード：<span id="pass-info" class="info">アルファベット、数字、記号を各1文字以上含む8～24文字です。</span>
				<input id="password" type="password" th:field="*{loginPass}"
					class="form-control" value="" placeholder="Password"/>
			</p>
			<p th:errors="*{name}" class="alert alert-danger"></p>
			<p>
				お名前：<span id="name-info" class="info">1～45文字です。</span>
				<input id="name" type="text" th:field="*{name}" class="form-control" value="" placeholder="山田太郎"/>
			</p>
			<input id="button" type="submit"
				class="submitButton btn btn-outline-dark" value="登録" /> <a
				href="/home" type="button" class="btn btn-outline-secondary">戻る</a>
		</form>
	</div>
<script>
document.addEventListener('DOMContentLoaded',()=>{
	const input_fields = document.querySelectorAll('.form-control')
	for (let e of input_fields) {
		e.addEventListener('focusin',()=>{
			const info = e.previousElementSibling
			info.setAttribute('style','display: inline;');
		})
	}
	for (let e of input_fields) {
		e.addEventListener('focusout',()=>{
			const info = e.previousElementSibling
			info.setAttribute('style','display: none;');
		})
	}
})
</script>
</body>
</html>